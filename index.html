<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Генералы — ностальгия в браузере</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="hero">
    <div class="hero__content">
      <h1>Генералы: веб-кампания</h1>
      <p>База, энергия, добыча, производство техники и авиаподдержка — всё, что мы помним из Generals 2013.</p>
      <div class="hero__actions">
        <button id="new-game" class="btn primary">Новая кампания</button>
        <button id="pause" class="btn">Пауза</button>
        <button id="toggle-help" class="btn">Справка</button>
      </div>
    </div>
  </header>

  <main class="layout">
    <section class="panel panel--wide">
      <div class="panel__header">
        <h2>Штаб</h2>
        <div class="statline">
          <div class="pill">Ресурсы: <span id="stat-resources">0</span></div>
          <div class="pill">Энергия: <span id="stat-energy">0</span>/<span id="stat-energy-cap">0</span></div>
          <div class="pill">Население: <span id="stat-pop">0</span>/<span id="stat-pop-cap">0</span></div>
          <div class="pill">Волна: <span id="stat-wave">1</span></div>
          <div class="pill">Время: <span id="stat-time">0:00</span></div>
        </div>
      </div>
      <div class="controls">
        <div class="control-block">
          <h3>Строительство</h3>
          <div class="actions actions--grid" id="build-actions"></div>
        </div>
        <div class="control-block">
          <h3>Войска</h3>
          <div class="actions actions--grid" id="unit-actions"></div>
        </div>
        <div class="control-block">
          <h3>Спецспособности</h3>
          <div class="actions">
            <button class="btn action" data-ability="airstrike">Авианалёт (80 энергии)</button>
            <button class="btn action" data-ability="repair">Ремонт базы (60 энергии)</button>
            <button class="btn action" data-ability="boost">Боевой клич (40 энергии)</button>
          </div>
        </div>
      </div>
    </section>

    <section class="panel panel--stacked">
      <div class="panel__header">
        <h2>События</h2>
        <div class="pill">Очки: <span id="stat-score">0</span></div>
      </div>
      <div class="log" id="log"></div>
    </section>

    <section class="board">
      <div class="board__wrap">
        <canvas id="game" width="1200" height="700" aria-label="Поле боя"></canvas>
        <div class="minimap">
          <canvas id="mini" width="240" height="140" aria-label="Миникарта"></canvas>
          <div class="minimap__legend">
            <div><span class="dot player"></span> Свои</div>
            <div><span class="dot enemy"></span> Враги</div>
            <div><span class="dot turret"></span> Оборона</div>
            <div><span class="dot collector"></span> Экономика</div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <section class="howto" id="help">
    <div class="howto__card">
      <h3>База</h3>
      <ul>
        <li>Постройте электростанцию, чтобы запитать казармы и завод.</li>
        <li>Центр снабжения открывает грузовики для добычи ящиков и контрактов.</li>
        <li>Башни и бункеры автоматически защищают подходы к базе.</li>
      </ul>
    </div>
    <div class="howto__card">
      <h3>Юниты</h3>
      <ul>
        <li>Пехота дешева, но уязвима; танки медленны, но держат удар.</li>
        <li>Грузовики снабжения приносят ресурсы каждые несколько секунд.</li>
        <li>Ракетчики наносят бонусный урон технике и базовым строениям.</li>
      </ul>
    </div>
    <div class="howto__card">
      <h3>Командование</h3>
      <ul>
        <li>Авианалёт наносит массовый урон по зоне, боевой клич усиливает ближайших бойцов.</li>
        <li>Ремонт восстанавливает здоровье строений и техники в радиусе штаба.</li>
        <li>Пауза ставит симуляцию на стоп, но позволяет планировать покупки.</li>
      </ul>
    </div>
  </section>

  <footer class="footer">
    <small>HTML-версия в духе Command &amp; Conquer: Generals (2013) — чистый JS без зависимостей.</small>
  </footer>

  <script src="script.js"></script>
</body>
</html>
